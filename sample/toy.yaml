%YAML 1.1
---
project: toy
packages:
   - toy

nodes:
   toy/teleop:
      rosname: teleop_node
      advertise:
         /toy/tele: std_msgs/String
      hpl:
         properties:
              - 'globally: no /toy/tele {val not in 0 to 100}' 
   toy/controller:
      rosname: controller_node
      advertise:
         /toy/cmd: std_msgs/String
      subscribe:
         /toy/tele: std_msgs/String
         /toy/data: std_msgs/String
      hpl:
         properties:
            - 'globally: /toy/cmd {val != 0} requires /toy/tele {val != 0} || /toy/data {val = 0}'
            - 'globally: /toy/cmd {val != 0} as M requires /toy/tele {val = $M.val}'
            - 'globally: /toy/data {val = 0} causes /toy/cmd {val = 0,msg = -1}'
   toy/base:
      rosname: base_node
      advertise:
         /toy/data: std_msgs/String
      subscribe:
         /toy/cmd: std_msgs/String
      hpl:
         properties: 
           - 'globally: no /toy/data {val not in [0,1]}'  

configurations:
   startone:
      launch:
        - toy/launch/start_toy.launch
      hpl:
        properties:
          - 'globally: no /toy/cmd {val not in 0 to 100}'
          - 'globally: /toy/cmd {val = 0} requires /toy/data {val = 0}'
          - 'globally: /toy/cmd {msg = -1} requires /toy/data {val = 0}'
          - 'globally: /toy/data {val = 0} causes /toy/cmd {val = 0, msg = -1}'
