%YAML 1.1
---
project: agrob
packages:
    - agrobv16_supervisor
nodes:
    agrobv16_supervisor/agrobv16_supervisor_node:
        rosname: agrobv16SUPERVISOR
        subscribe:
            /scan: sensor_msgs/LaserScan
            /lidar1/scan: sensor_msgs/LaserScan
            /joy_teleop/joy: sensor_msgs/Joy
           
        hpl:
            properties:
                - 'globally: /joy_teleop/joy {buttons[0] = 1}
                    causes within 20 ms /agrobv16/current_state {data[0] = 6}'
                - 'globally: /joy_teleop/joy {buttons[0] = 0}
                    causes within 20 ms /agrobv16/current_state {data[0] = 3}'
                - 'globally: /joy_teleop/joy {buttons[0] = 0}
                    causes within 20 ms /supervisor/cmd_vel {linear.x in 0 to 1}'
        user_data:
            haros_plugin_pbt_gen:
                ignored:
                    - /kinect2/qhd/image_color_rect
                    - /kinect2/qhd/camera_info
                    - /kinect2/qhd/image_depth_rect
                    - /safer_zone/image
                    - /safer_zone_vertical/image

configurations:
    startup:
        launch:
            - agrobv16_supervisor/launch/startup.launch
        hints:
            /agrobv16SUPERVISOR:
                subscribe:
                    /scan: sensor_msgs/LaserScan
                    /lidar1/scan: sensor_msgs/LaserScan
                    /joy_teleop/joy: sensor_msgs/Joy
                advertise:
                    /agrobv16/max_velocity: geometry_msgs/Twist
                    /supervisor/cmd_vel: geometry_msgs/Twist
                    /agrobv16/current_state: std_msgs/Int16MultiArray 
            /supervisorGUI1:
                subscribe:
                    /agrobv16/current_state: std_msgs/Int16MultiArray
            /Agrobv16_twist_mux:
                subscribe:
                    /agrobv16/max_velocity: geometry_msgs/Twist
                    /supervisor/cmd_vel: geometry_msgs/Twist
                    /joy_teleop/cmd_vel: geometry_msgs/Twist
                advertise:
                    /husky_velocity_controller/cmd_vel: geometry_msgs/Twist
        hpl:
            properties:
                - 'globally: /supervisor/cmd_vel {linear.x = 2.0} as E causes /supervisor/cmd_vel {linear.x = $E.linear.x}'

